<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Klank- en letteroefeningen</title>
  <style>
    body {
      font-family: "Comic Sans MS", "Comic Sans", cursive;
      background: #fff;
      color: #000;
      padding: 1rem;
    }
    h1 {
      text-align: center;
      color: #a855f7; /* paars accent */
    }
    .exercise {
      border: 2px solid #000;
      padding: 1rem;
      margin-bottom: 1.5rem;
    }
    .img-wrap {
      display: flex;
      justify-content: center;
    }
    .word-box {
      display: flex;
      justify-content: center;
      gap: 0.25rem;
      margin: 0.5rem 0;
      font-size: 2rem;
    }
    .letter-box {
      width: 2.2rem;
      height: 2.2rem;
      border: 2px solid #000;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .letter-input {
      width: 2.2rem;
      height: 2.2rem;
      border: 2px solid #000;
      text-align: center;
      font-size: 2rem;
    }
    button {
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      background: #a855f7; /* paars */
      color: #fff;
      border: none;
      cursor: pointer;
    }
    .options {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 0.5rem;
    }
    .option {
      border: 2px solid #000;
      border-radius: 50%;
      width: 3rem;
      height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
    }
    .option.correct {
      background: #4ade80; /* groen */
      border-color: #4ade80;
      color: #fff;
    }
    .option.wrong {
      background: #a855f7; /* paars */
      border-color: #a855f7;
      color: #fff;
    }
  </style>
</head>
<body>
  <h1>Klank- en letteroefeningen</h1>
  <div id="fill-exercises"></div>
  <div id="choice-exercises"></div>

<script>
const images = {
  tree: `<svg width="80" height="80" viewBox="0 0 64 64" stroke="black" stroke-width="3" fill="none">
    <circle cx="32" cy="20" r="15"/>
    <line x1="32" y1="35" x2="32" y2="55"/>
    <line x1="32" y1="40" x2="22" y2="50"/>
    <line x1="32" y1="40" x2="42" y2="50"/>
  </svg>`,
  roof: `<svg width="80" height="80" viewBox="0 0 64 64" stroke="black" stroke-width="3" fill="none">
    <path d="M10 30 L32 10 L54 30 V54 H10 V30 Z"/>
    <rect x="25" y="36" width="14" height="18"/>
  </svg>`,
  bed: `<svg width="80" height="80" viewBox="0 0 64 64" stroke="black" stroke-width="3" fill="none">
    <rect x="10" y="28" width="44" height="18"/>
    <line x1="10" y1="46" x2="10" y2="54"/>
    <line x1="54" y1="46" x2="54" y2="54"/>
    <line x1="10" y1="36" x2="54" y2="36"/>
  </svg>`
};

const fillData = [
  { word: 'boom', image: 'tree', blanks: [{index: 0, letter: 'b'}] },
  { word: 'dak', image: 'roof', blanks: [{index: 0, letter: 'd'}] },
  { word: 'bed', image: 'bed', blanks: [{index: 0, letter: 'b'}, {index: 2, letter: 'd'}] }
];

const choiceData = [
  { image: 'tree', correct: 'b', options: ['b','d','p'] },
  { image: 'roof', correct: 'd', options: ['b','d','p'] },
  { image: 'bed',  correct: 'd', options: ['b','d','p'] }
];

function createFillExercise(data) {
  const container = document.createElement('div');
  container.className = 'exercise';
  const img = document.createElement('div');
  img.className = 'img-wrap';
  img.innerHTML = images[data.image];
  container.appendChild(img);

  const wordBox = document.createElement('div');
  wordBox.className = 'word-box';
  [...data.word].forEach((ch, idx) => {
    const blank = data.blanks.find(b => b.index === idx);
    if(blank){
      const input = document.createElement('input');
      input.className = 'letter-input';
      input.maxLength = 1;
      input.dataset.correct = blank.letter;
      wordBox.appendChild(input);
    } else {
      const span = document.createElement('div');
      span.className = 'letter-box';
      span.textContent = ch;
      wordBox.appendChild(span);
    }
  });
  container.appendChild(wordBox);

  const btn = document.createElement('button');
  btn.textContent = 'Controleer';
  btn.addEventListener('click', () => {
    let ok = true;
    wordBox.querySelectorAll('input').forEach(inp => {
      if(inp.value.toLowerCase() !== inp.dataset.correct) ok = false;
    });
    if(ok){
      btn.textContent = 'Goed gedaan!';
      btn.style.background = '#4ade80';
    }else{
      btn.textContent = 'Probeer opnieuw';
      btn.style.background = '#a855f7';
    }
  });
  container.appendChild(btn);
  document.getElementById('fill-exercises').appendChild(container);
}

function createChoiceExercise(data){
  const container = document.createElement('div');
  container.className = 'exercise';
  const row = document.createElement('div');
  row.style.display = 'flex';
  row.style.alignItems = 'center';
  row.style.justifyContent = 'center';
  row.style.gap = '1rem';

  const img = document.createElement('div');
  img.innerHTML = images[data.image];
  row.appendChild(img);

  const opts = document.createElement('div');
  opts.className = 'options';
  data.options.forEach(letter => {
    const opt = document.createElement('div');
    opt.className = 'option';
    opt.textContent = letter;
    opt.addEventListener('click', () => {
      if(opts.dataset.done) return;
      opts.dataset.done = 'true';
      if(letter === data.correct){
        opt.classList.add('correct');
      } else {
        opt.classList.add('wrong');
        Array.from(opts.children).forEach(o => {
          if(o.textContent === data.correct){
            o.classList.add('correct');
          }
        });
      }
    });
    opts.appendChild(opt);
  });
  row.appendChild(opts);
  container.appendChild(row);
  document.getElementById('choice-exercises').appendChild(container);
}

fillData.forEach(createFillExercise);
choiceData.forEach(createChoiceExercise);
</script>
</body>
</html>
